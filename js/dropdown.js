var e;e=function(e,t,i){e.fn.dropdown=function(t){t=e.extend({variantChange:function(e){}},t),this.each((function(){var i=e(this),a={},s={},n={},l=i.hasClass("ymq-shopify-option");if(i.hasClass("ymq-inited")){var p=i.hasClass("ymq-multiple"),o=i.parents(".selectDropdown"),d=i.next().next();h(i.parent().attr("class"))}else{p=i.hasClass("ymq-multiple");var r=e("<div />").addClass("ymq-dropdown selectDropdown "+(p?"multiple":""));i.wrap(r),d=e("<span />").text(e(this).attr("placeholder")).insertAfter(e(this));var c=e('<ul class="ymq-multiple-ul"></ul>');i.find("option").each((function(t){c.append(e(`<li data-index="${t}" data-title="${e(this).data("title")}" class="ymq-multiple-li ${e(this).prop("disabled")?"disabled":""} ${e(this).prop("selected")?"active":""}"></li>`).append(e("<a />").html(e(this).html())))})),c.insertAfter(e(this)),o=i.parents(".selectDropdown"),h(),i.addClass("ymq-inited"),i.next().next().on("click touch",(function(t){var a=!1;return i.parent().hasClass("open")&&(a=!0),e(".ymq-dropdown").removeClass("open"),a||i.parent().addClass("open"),t.preventDefault(),!1})),o.find("ul li a").on("click touch",(function(a){var s=e(this);if(s.parent("li").hasClass("disabled"))return a.preventDefault(),!1;var n=e(this).parents(".selectDropdown"),p=n.find(".ymq-dropdown"),o=i.hasClass("ymq-multiple"),d=e(this).parent().hasClass("active"),r=e(this).parent().data("index");return o?(s.parents(".ymq-multiple-li").toggleClass("active"),i.find("option").eq(s.parents(".ymq-multiple-li").data("index")).prop("selected",s.parents(".ymq-multiple-li").hasClass("active")),h()):(d&&!l?n.find("option").prop("selected",!1):(n.find("option").prop("selected",!1),n.find("option").eq(r).prop("selected",!0)),h()),p.trigger("change"),t.variantChange(i),o?(a.preventDefault(),!1):void 0}))}function h(t=""){a={},s={},n={},i.find("option").each((function(t){e(this).prop("selected")&&!e(this).prop("disabled")&&(a[t]={value:e(this).val(),text:e(this).html()}),e(this).prop("disabled")&&(s[t]={value:e(this).val(),text:e(this).html()}),"none"==e(this).css("display")&&(n[t]={value:e(this).val(),text:e(this).html()})}));var l="";o.find(".ymq-multiple-li").removeClass("active").removeClass("disabled").show(),Object.keys(a).forEach((function(e){var t=a[e];p?l+=`<span class="ymq-multiple-item-box"><span class="ymq-multiple-item"><span class="ymq-multiple-text">${t.text}</span> <span data-index="${e}" class="ymq-multiple-remove"></span></span></span></span>`:l=t.text,o.find(".ymq-multiple-li").eq(e).addClass("active")})),Object.keys(s).forEach((function(e){s[e],o.find(".ymq-multiple-li").eq(e).addClass("disabled")})),Object.keys(n).forEach((function(e){n[e],o.find(".ymq-multiple-li").eq(e).hide()})),""==l&&(l=i.attr("placeholder")),d.html(l),o.find(".ymq-multiple-remove").on("click touch",(function(t){return i.find("option").eq(e(this).data("index")).prop("selected",!1),i.trigger("change"),h(),t.preventDefault(),!1}))}}))},e(document).on("click touch",(function(t){e(".ymq-dropdown").removeClass("open")}))},"function"==typeof best_define&&best_define.amd?best_define(["jquery"],e):e(bestJq);